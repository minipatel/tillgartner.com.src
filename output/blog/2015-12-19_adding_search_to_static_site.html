<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8"/>
    <title>Adding Search to a static site</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Till Gartner">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="/img/favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">		  
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="http://tillgartner.com">tillgartner.com</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/about.html">About</a></li>
          </ul>
		  <div class="col-sm-3 col-md-3 pull-right">
		   	<form class="navbar-form" role="search" action="/search.html">
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search" name="q">
					<div class="input-group-btn"></div>
				</div>
			</form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container">
		
		
		
	<div class="page-header">
		<h1>Adding Search to a static site</h1>
	</div>

	<p><em>19 December 2015</em></p>

	<p><p>So now I have a static site that is generated by jBake. So far so good. But what&rsquo;s a site without a search? Search is a must. So how do we add search functionality to a static site? Easy: We use the search giants Custom Search functionality ;)</p><p>These are the steps I took to get there:</p><h1>Create the Custom Search Engine</h1><p>Nothing easiere: Just go to the <a href="http://www.google.com/cse">Google CSE page</a> and create it. The process is self explanatory: You need a name for your search engine, you tell it what content should be made available. In my case this would be all from <a href="tillgartner.com">tillgartner.com</a> and that&rsquo;s basically it. We will return at the end to this site in order to fine tune the look &amp; feel of the results.</p><p><img src="/img/2015-12-19_search_engine/Custom_Search_-_Basic.jpg" alt="Google CSE administration""/></p><p>The one thing we need from here is the code in order to embed the search. You get this code by clicking the bitton &ldquo;<strong>Get Code</strong>&rdquo;.</p><h1>Add the search field</h1><p>Next we need a search box on our pages. I want a search box on the top right of every page on the entire website. So I add it to the freemarker template that creates the menu. </p><p>In my case the <code>menu.ftl</code> looks something like this:</p>
<pre><code class="HTML">	&lt;!-- Fixed navbar --&gt;
    &lt;nav class=&quot;navbar navbar-default navbar-fixed-top&quot; role=&quot;navigation&quot;&gt;
		
		&lt;script&gt;
		  (function() {
		    var cx = &#39;011503887378875287451:9kwp-5hxmnc&#39;;
		    var gcse = document.createElement(&#39;script&#39;);
		    gcse.type = &#39;text/javascript&#39;;
		    gcse.async = true;
		    gcse.src = (document.location.protocol == &#39;https:&#39; ? &#39;https:&#39; : &#39;http:&#39;) +
		        &#39;//www.google.com/cse/cse.js?cx=&#39; + cx;
		    var s = document.getElementsByTagName(&#39;script&#39;)[0];
		    s.parentNode.insertBefore(gcse, s);
		  })();
		&lt;/script&gt;
		  
      &lt;div class=&quot;container-fluid&quot;&gt;
        &lt;div class=&quot;navbar-header&quot;&gt;
          &lt;a class=&quot;navbar-brand&quot; href=&quot;http://tillgartner.com&quot;&gt;tillgartner.com&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;navbar-collapse collapse&quot;&gt;
          &lt;ul class=&quot;nav navbar-nav&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;/about.html&quot;&gt;About&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
		  &lt;div class=&quot;col-sm-3 col-md-3 pull-right&quot;&gt;
		   	&lt;form class=&quot;navbar-form&quot; role=&quot;search&quot; action=&quot;/search.html&quot;&gt;
				&lt;div class=&quot;input-group&quot;&gt;
					&lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Search&quot; name=&quot;q&quot;&gt;
					&lt;div class=&quot;input-group-btn&quot;&gt;&lt;/div&gt;
				&lt;/div&gt;
			&lt;/form&gt;
        &lt;/div&gt;&lt;!--/.nav-collapse --&gt;
      &lt;/div&gt;
    &lt;/nav&gt;
    &lt;div class=&quot;container&quot;&gt;
</code></pre><p>The result is a neat little serach box on the top right corner:</p><p><img src="/img/2015-12-19_search_engine/search_box_.jpg" alt="Search box""/></p><p>Create your own search engine at <a href="http://www.google.com/cse">http://www.google.com/cse</a></p><p><a href="http://www.cambiaresearch.com/articles/84/how-to-integrate-a-google-custom-search-popup-in-a-bootstrap-navbar">http://www.cambiaresearch.com/articles/84/how-to-integrate-a-google-custom-search-popup-in-a-bootstrap-navbar</a></p><p><a href="https://developers.google.com/custom-search/docs/tutorial/implementingsearchbox">https://developers.google.com/custom-search/docs/tutorial/implementingsearchbox</a></p></p>

	<hr />
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
                  <p class="muted credit">&copy; Till Gartner 2015 - Last generated Dec 19, 2015 10:16:38 AM UTC - <a href="/markdown.html">Markdown</a> - <a href="/todo.html">ToDo</a> - <a href="/log.html">Done</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/prettify.js"></script>
    
  </body>
</html>